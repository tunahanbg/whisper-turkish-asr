# ASR System Configuration
# ModÃ¼ler ve deÄŸiÅŸtirilebilir yapÄ±landÄ±rma dosyasÄ±

# Model KonfigÃ¼rasyonu
model:
  name: "whisper"
  variant: "medium"  # tiny, base, small, medium, large
  device: "mps"  # mps (Apple Silicon), cuda, cpu
  compute_type: "float16"  # float16, float32, int8
  download_root: "./checkpoints"
  
  # Alternative models (gelecekte kullanÄ±m iÃ§in)
  alternatives:
    faster_whisper:
      enabled: false
      model_size: "medium"
    mlx_whisper:
      enabled: false

# Dil AyarlarÄ±
language:
  default: null  # null = otomatik algÄ±lama
  supported: ["tr", "en"]  # TÃ¼rkÃ§e ve Ä°ngilizce
  
# Ses Ä°ÅŸleme Parametreleri
audio:
  sample_rate: 16000
  channels: 1  # mono
  format: "wav"
  chunk_duration: 30  # saniye (Whisper iÃ§in optimal)
  
  # Ã–n Ä°ÅŸleme AyarlarÄ±
  preprocessing:
    enabled: true
    normalize: true
    trim_silence: true
    trim_threshold_db: 20
    denoise: false  # Whisper zaten gÃ¼rÃ¼ltÃ¼ye dayanÄ±klÄ±
    noise_reduction_strength: 0.8
    
# Voice Activity Detection (VAD)
vad:
  enabled: true
  model: "silero"
  threshold: 0.5  # 0-1 arasÄ±, yÃ¼ksek = daha hassas
  min_speech_duration_ms: 250
  max_speech_duration_s: 600  # 10 dakika
  min_silence_duration_ms: 10000  # 10 saniye
  window_size_samples: 512
  speech_pad_ms: 30  # KonuÅŸma Ã¶ncesi/sonrasÄ± padding
  
# Mikrofon KaydÄ±
recording:
  device: null  # null = varsayÄ±lan mikrofon
  auto_stop_silence: true  # VAD ile otomatik durdurma
  max_recording_duration: 600  # 10 dakika
  buffer_size: 1024
  
# Transkripsiyon AyarlarÄ±
transcription:
  task: "transcribe"  # transcribe veya translate
  temperature: 0.0  # 0 = deterministik
  beam_size: 5
  best_of: 5
  patience: 1.0
  length_penalty: 1.0
  compression_ratio_threshold: 2.4
  log_prob_threshold: -1.0
  no_speech_threshold: 0.6
  condition_on_previous_text: true
  initial_prompt: null  # TÃ¼rkÃ§e iÃ§in: "Merhaba, bugÃ¼n hava Ã§ok gÃ¼zel."
  word_timestamps: true
  
# Fine-tuning AyarlarÄ± (Gelecek iÃ§in)
finetuning:
  enabled: false
  checkpoint_path: null
  lora:
    r: 32
    alpha: 64
    dropout: 0.05
    target_modules: ["q_proj", "v_proj"]
    
# Dataset AyarlarÄ±
dataset:
  common_voice:
    language: "tr"
    version: "17.0"
    split_ratio:
      train: 0.8
      validation: 0.1
      test: 0.1
      
# Performans ve Optimizasyon
performance:
  batch_size: 16
  num_workers: 4
  cache_enabled: true
  cache_dir: "./data/cache"
  
# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "./logs/asr_system.log"
  console: true
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level: <8} | {name}:{function}:{line} - {message}"
  rotation: "100 MB"
  retention: "1 week"
  
# UI AyarlarÄ±
ui:
  title: "ğŸ¤ KonuÅŸma TanÄ±ma Sistemi"
  theme: "dark"  # light, dark
  show_advanced_options: false
  max_upload_size_mb: 200
  supported_formats: ["wav", "mp3", "m4a", "ogg", "flac"]
  
# Paths
paths:
  data_dir: "./data"
  models_dir: "./checkpoints"
  logs_dir: "./logs"
  cache_dir: "./data/cache"
  output_dir: "./output"

